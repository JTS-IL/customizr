
.gallery-item {
  /* do not style standard gallery */
  dt {
    text-align: inherit;
    &::before { content: none }
    padding: 0.8rem;
  }
  dd.wp-caption-text {
    padding: 0 0.8rem;
    margin: 0;
    &::before { content: none }
  }
  /* do not style standard gallery */
  
  .gallery-icon {
    overflow: hidden;
  
    img {
      display: block;
      @include transition(transform 0.3s ease-in-out);
      max-width: 100%;
      width: 100%;

      @at-root .hover.gallery-item .gallery-icon img {
        @include transform( scale(1.1) );
      }
    }

  }
}
section[class^="post-"] .gallery.row {
  margin-top: $base-line-height-root;
  margin-bottom: $base-line-height-root;
}

/*
* Gallery needs a better implementation
*/
@for $i from 1 through 9 {
  .gallery-columns-#{$i} {
    .gallery-item {
      //width: calc( (100% - #{$base-line-height} * (#{$i} - 1) ) / #{$i} );
      width: percentage( 1 / $i );
    }

    @include media-breakpoint-down(md) {
     .gallery-item {
         //width: calc( (100% - #{$base-line-height} * (#{$i} - 1) ) / (#{$i} / 2)  );
         width: percentage( 1 / $i );
      }
    }
  }
}


@for $i from 3 through 0 {
  .gallery-columns-#{$i} {
    .gallery-item {
    .post-action {
      width:  $base-line-height*9/$i;
      height: $base-line-height*9/$i;
      top: $base-line-height - $i/10 ;
      right: $base-line-height - $i/10 ;
      a {
        line-height: $base-line-height*9/$i;
      }
      }
    }
  }
}